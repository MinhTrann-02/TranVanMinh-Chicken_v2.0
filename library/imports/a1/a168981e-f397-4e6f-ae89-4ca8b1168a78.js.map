{"version":3,"sources":["../../../../assets/script/assets/script/GameManager.js"],"names":["audioEngine","cc","Class","extends","Component","properties","chicken","Sprite","car","lights","carPolice","button","Button","soundEffect","default","type","AudioClip","_start","_isRun","_isDie","isClick","start","node","on","Node","EventType","TOUCH_END","onClickStart","update","dt","getComponent","isLightGreen","speed","ani","play","x","y","stop","playSoundPunch","playSoundPolice","active","playEffect"],"mappings":";;;;;;AAAA,IAAMA,cAAcC,GAAGD,WAAvB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,iBAASL,GAAGM,MADJ;AAERC,aAAKP,GAAGM,MAFA;AAGRE,gBAAQ,CAACR,GAAGM,MAAJ,CAHA;AAIRG,mBAAWT,GAAGM,MAJN;AAKRI,gBAAQV,GAAGW,MALH;AAMRC,qBAAa;AACTC,qBAAS,EADA;AAETC,kBAAM,CAACd,GAAGe,SAAJ;AAFG,SANL;AAURC,gBAAQ,KAVA;AAWRC,gBAAQ,KAXA;AAYRC,gBAAQ,KAZA;AAaRC,iBAAS;AAbD,KAFP;;AAmBLC,SAnBK,mBAmBG;AACJ,aAAKC,IAAL,CAAUC,EAAV,CAAatB,GAAGuB,IAAH,CAAQC,SAAR,CAAkBC,SAA/B,EAA0C,KAAKC,YAA/C,EAA6D,IAA7D;AACH,KArBI;AAuBLC,UAvBK,kBAuBEC,EAvBF,EAuBM;AACP,YAAI,KAAKpB,MAAL,CAAY,CAAZ,EAAeqB,YAAf,CAA4B,OAA5B,EAAqCC,YAArC,IAAqD,IAAzD,EAA+D;AAC3D,gBAAIzB,UAAU,KAAKA,OAAL,CAAawB,YAAb,CAA0B,SAA1B,CAAd;AACA,iBAAKtB,GAAL,CAASsB,YAAT,CAAsB,KAAtB,EAA6BE,KAA7B,GAAqC,GAArC;AACA,gBAAI,CAAC,KAAKd,MAAV,EAAkB;AACd,qBAAKA,MAAL,GAAc,IAAd;AACAZ,wBAAQ2B,GAAR,CAAYC,IAAZ,CAAiB,aAAjB;AACH;AACD,gBAAI,KAAK5B,OAAL,CAAagB,IAAb,CAAkBa,CAAlB,IAAuB,CAAC,GAA5B,EAAiC;AAC7B,qBAAK7B,OAAL,CAAagB,IAAb,CAAkBa,CAAlB,IAAuB,KAAKN,EAA5B;AACA,qBAAKvB,OAAL,CAAagB,IAAb,CAAkBc,CAAlB,IAAuB,KAAKP,EAA5B;AACH,aAHD,MAGO;AACHvB,wBAAQ2B,GAAR,CAAYI,IAAZ,CAAiB,aAAjB;AACA,oBAAI,CAAC,KAAKlB,MAAV,EAAkB;AACd,yBAAKA,MAAL,GAAc,IAAd;AACA,yBAAKmB,cAAL;AACAhC,4BAAQ2B,GAAR,CAAYC,IAAZ,CAAiB,aAAjB;AACA,yBAAKK,eAAL;AACH;AACD,qBAAK7B,SAAL,CAAeY,IAAf,CAAoBa,CAApB,IAAyB,MAAMN,EAA/B;AACH;AACJ;AACJ,KA7CI;AA+CLF,gBA/CK,0BA+CU;AACX,YAAI,CAAC,KAAKP,OAAV,EAAmB;AACf,iBAAKA,OAAL,GAAe,IAAf;AACA,iBAAKT,MAAL,CAAYW,IAAZ,CAAiBkB,MAAjB,GAA0B,KAA1B;AACA,iBAAKD,eAAL;AACA,iBAAKD,cAAL;AACH;AACJ,KAtDI;AAwDLC,mBAxDK,6BAwDa;AACd,YAAI,KAAK1B,WAAL,CAAiB,CAAjB,CAAJ,EAAyB;AACrBb,wBAAYyC,UAAZ,CAAuB,KAAK5B,WAAL,CAAiB,CAAjB,CAAvB,EAA4C,KAA5C;AACH;AACJ,KA5DI;AA8DLyB,kBA9DK,4BA8DY;AACb,YAAI,KAAKzB,WAAL,CAAiB,CAAjB,CAAJ,EAAyB;AACrBb,wBAAYyC,UAAZ,CAAuB,KAAK5B,WAAL,CAAiB,CAAjB,CAAvB,EAA4C,KAA5C;AACH;AACJ;AAlEI,CAAT","file":"GameManager.js","sourceRoot":"../../../../assets/script","sourcesContent":["const audioEngine = cc.audioEngine;\n\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        chicken: cc.Sprite,\n        car: cc.Sprite,\n        lights: [cc.Sprite],\n        carPolice: cc.Sprite,\n        button: cc.Button,\n        soundEffect: {\n            default: [],\n            type: [cc.AudioClip],\n        },\n        _start: false,\n        _isRun: false,\n        _isDie: false,\n        isClick: false\n    },\n\n\n    start() {\n        this.node.on(cc.Node.EventType.TOUCH_END, this.onClickStart, this);\n    },\n\n    update(dt) {\n        if (this.lights[2].getComponent(\"Light\").isLightGreen == true) {\n            let chicken = this.chicken.getComponent(\"Chicken\");\n            this.car.getComponent(\"Car\").speed = 370;\n            if (!this._isRun) {\n                this._isRun = true;\n                chicken.ani.play(\"chicken-run\");\n            }\n            if (this.chicken.node.x >= -307) {\n                this.chicken.node.x -= 25 * dt;\n                this.chicken.node.y -= 40 * dt;\n            } else {\n                chicken.ani.stop(\"chicken-run\");\n                if (!this._isDie) {\n                    this._isDie = true;\n                    this.playSoundPunch();\n                    chicken.ani.play(\"chicken-die\");\n                    this.playSoundPolice();\n                }\n                this.carPolice.node.x -= 500 * dt;\n            }\n        }\n    },\n\n    onClickStart() {\n        if (!this.isClick) {\n            this.isClick = true;\n            this.button.node.active = false;\n            this.playSoundPolice();\n            this.playSoundPunch();\n        }\n    },\n\n    playSoundPolice() {\n        if (this.soundEffect[0]) {\n            audioEngine.playEffect(this.soundEffect[0], false);\n        }\n    },\n\n    playSoundPunch() {\n        if (this.soundEffect[1]) {\n            audioEngine.playEffect(this.soundEffect[1], false);\n        }\n    }\n});"]}